<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>大尺寸广告图展示</title>
    </head>
    <body>
        <div id="ad1" style="width:400px;height:400px;overflow:hidden">
            <!-- 请自行添加canvas元素 -->
        </div>
        <div id="ad2" style="width:500px;height:700px;overflow:hidden"></div>
        <script>
            function drawLargeImage($container, imageSrc) {
                // 请补充方法体
                var pixel = 40000;
                var image = new Image();
                image.onload = function(){
                    var width = this.width;
                    var height = pixel / width;
                    var num = this.height / height;
                    for(var i = 0; i < num; i++){
                        var canvas = document.createElement('canvas');
                        canvas.width = width;
                        canvas.height = height;
                        canvas.style = 'display:block;';
                        var ctx = canvas.getContext('2d');
                        ctx.drawImage(this,0,i*height,width,height,0,0,width,height);
                        $container.appendChild(canvas);
                    }
                };
                image.src = imageSrc;
            }
            drawLargeImage(document.getElementById('ad1'), 'https://gw.alicdn.com/tfs/TB163pKdMmTBuNjy1XbXXaMrVXa-400-400.jpg');
            drawLargeImage(document.getElementById('ad2'), 'https://gw.alicdn.com/tfs/TB1EaOddKuSBuNjy1XcXXcYjFXa-500-700.jpg');
        </script>
    </body>
</html>
